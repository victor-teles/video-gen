# ============================================================================
# VIDEO CLIP GENERATOR CONFIGURATION
# ============================================================================

# Storage Configuration
# Use "local" for local storage or "s3" for AWS S3 storage
STORAGE_TYPE=local  # Use "local" for local storage or "s3" for AWS S3 storage

# AWS S3 Configuration (only required if STORAGE_TYPE=s3)
S3_BUCKET_NAME=trod-video-clips
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1
S3_ENDPOINT_URL=https://s3.us-east-1.amazonaws.com

# Local Storage Directories (optional - defaults will be used if not set)
# STORAGE_DIR=./storage
# UPLOADS_DIR=./storage/uploads
# PROCESSING_DIR=./storage/processing
# RESULTS_DIR=./storage/results

# Database Configuration
DATABASE_URL=sqlite:///./clip_generator.db
# For PostgreSQL: DATABASE_URL=postgresql://user:password@localhost/dbname

# Redis Configuration (for Celery background tasks)
REDIS_URL=redis://localhost:6379/0

# File Upload Settings
MAX_FILE_SIZE=524288000  # 500MB in bytes
DEFAULT_NUM_CLIPS=3
DEFAULT_RATIO=9:16
MAX_CLIPS_PER_REQUEST=10

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_TITLE=Video Clip Generator API
API_VERSION=1.0.0
ALLOWED_ORIGINS=*

# Security and Rate Limiting
RATE_LIMIT=60  # requests per minute

# File Cleanup (hours)
CLEANUP_UPLOADS_AFTER=24
CLEANUP_RESULTS_AFTER=72

# AI Model Configuration
WHISPER_MODEL_SIZE=base  # tiny, base, small, medium, large
YOLO_MODEL=yolov8n.pt
AI_DEVICE=auto  # auto, cpu, cuda

# Video Processing Settings
VIDEO_CRF=18  # Video quality (lower = higher quality)
AUDIO_BITRATE=192k

# Development Settings
DEBUG=False
AUTO_RELOAD=True
SHOW_ERROR_DETAILS=False
LOG_LEVEL=INFO

# Celery Worker Settings
CELERY_WORKER_CONCURRENCY=1
CELERY_LOG_LEVEL=INFO
CELERY_TASK_TIME_LIMIT=3600

# ============================================================================
# CLIP SELECTION AI CONFIGURATION (OpenRouter)
# ============================================================================

# OpenRouter API Configuration
OPENROUTER_API_KEY=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
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# Clip Selection Model Settings (Priority Order with Fallback)
# Primary model (highest priority)
CLIP_SELECTION_MODEL=tngtech/deepseek-r1t2-chimera:free

# Fallback models (tried in order if primary fails)
CLIP_SELECTION_FALLBACK_MODELS=deepseek/deepseek-chat-v3.1:free,qwen/qwen3-235b-a22b:free,baidu/ernie-4.5-21b-a3b-thinking,google/gemini-2.5-flash-preview-09-2025,x-ai/grok-4-fast

# Model Configuration
CLIP_SELECTION_TEMPERATURE=0.3
CLIP_SELECTION_MAX_TOKENS=1000
CLIP_SELECTION_MAX_RETRIES=3

# Cost Optimization (Free models prioritized)
OPENROUTER_COST_PER_TOKEN=0.000000  # Using free models
ENABLE_AI_CLIP_SELECTION=true  # Set to false to use ClipsAI only

# ============================================================================
# FACELESS VIDEO GENERATION CONFIGURATION
# ============================================================================

# Required API Keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
REPLICATE_API_TOKEN=your_replicate_api_token_here

# Optional: Alternative Image Generation (FAL)
FAL_KEY=your_fal_api_key_here

# Story Generation Settings
STORY_MODEL=gpt-4
STORY_TEMPERATURE=0.9
STORY_CHAR_LIMIT_MIN=700
STORY_CHAR_LIMIT_MAX=800
MAX_SCENES=14

# Image Generation Settings
IMAGE_MODEL=black-forest-labs/flux-schnell
IMAGE_ASPECT_RATIO=9:16
IMAGE_INFERENCE_STEPS=4
IMAGE_GUIDANCE=3.0
IMAGE_QUALITY=100

# Text-to-Speech Settings
TTS_MODEL=tts-1
TTS_SPEECH_RATE=1.1

# Cost Estimation (optional - for budget tracking)
OPENAI_COST_PER_TOKEN=0.00003
OPENAI_TTS_COST_PER_CHAR=0.000015
REPLICATE_COST_PER_IMAGE=0.05

# Faceless Video Limits
MAX_FACELESS_VIDEOS_PER_USER=10
MAX_STORY_TITLE_LENGTH=100
MAX_STORY_DESCRIPTION_LENGTH=500
MAX_STORY_CONTENT_LENGTH=2000

# Faceless Video Storage
# FACELESS_VIDEOS_DIR=./storage/results/faceless-videos

# ============================================================================
# USAGE NOTES
# ============================================================================

# 1. REQUIRED SETUP FOR FACELESS VIDEOS:
#    - Get OpenAI API key from: https://platform.openai.com/api-keys
#    - Get Replicate API token from: https://replicate.com/account
#    - Both are required for faceless video generation to work

# 2. STORAGE SETUP:
#    - For local storage: Ensure sufficient disk space for videos
#    - For S3 storage: Create S3 bucket and configure IAM permissions

# 3. COST ESTIMATION:
#    - Each faceless video costs approximately $0.20-$1.50
#    - Breakdown: Story generation (~$0.03) + Images (~$0.70) + TTS (~$0.05)
#    - Cost varies based on story length and number of scenes

# 4. PROCESSING TIME:
#    - Average processing time: 5-10 minutes per video
#    - Depends on number of scenes and API response times

# 5. REDIS REQUIREMENT:
#    - Redis is required for background task processing
#    - Install: apt-get install redis-server (Ubuntu) or brew install redis (macOS)
#    - Start: redis-server

# 6. SUPPORTED FORMATS:
#    - Video output: MP4 (H.264)
#    - Caption output: JSON (word-level timing)
#    - Image formats: PNG (generated scenes)
#    - Audio formats: MP3 (TTS output) 